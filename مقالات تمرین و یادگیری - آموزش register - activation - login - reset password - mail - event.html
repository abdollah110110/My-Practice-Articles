<!DOCTYPE html>
<html lang="fa"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>مقالات تمرین و یادگیری - آموزش register - activation - login - reset password - mail - event
</title>

        <!-- Fonts -->
        <!--<link href="" rel="stylesheet" type="text/css">-->
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/bootstrap.css" rel="stylesheet" type="text/css">
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/bootstrap-rtl.css" rel="stylesheet" type="text/css">
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/themify-icons.css" rel="stylesheet" type="text/css">
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/vazir.css" rel="stylesheet" type="text/css">
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/styles.css" rel="stylesheet" type="text/css">
        
        <link href="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/monokai.css" rel="stylesheet">
        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/highlight.js"></script>

    <style>.cke{visibility:hidden;}</style></head>
    <body class="bg-light">
        
        <section id="content">
            <div class="container bg-white min-height-800px">
    <div class="text-info text-center pt-4">
        <h2>آموزش register - activation - login - reset password - mail - event</h2>
    </div>
    <hr>
    
    <div class="article mt-5">
        <p dir="rtl" style="text-align:justify">در این مقاله قصد دارم 
نحوه پیاده سازی عضویت و فعال سازی و ورود کاربران را توضیح بدهم. برای این
 کار مراحل زیر را باید انجام بدهیم:</p>

<h3 dir="rtl">مرحله عضویت - Register</h3>

<p dir="rtl" style="text-align:justify">1- برای ایجاد شدن کنترلرها و ویوهای مربوط به عضویت و لاگین و همچنین تغییر رمز عبور، دستور زیر را در خط فرمان وارد میکنیم:</p>

<pre><code class=" hljs css"><span class="hljs-tag">php</span> <span class="hljs-tag">artisan</span> <span class="hljs-tag">make</span><span class="hljs-pseudo">:auth</span></code></pre>

<p dir="rtl">2- روتهای مربوط به register را در فایل web.php بصورت زیر وارد میکنیم:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-attribute">Route</span>::group(
    [
        <span class="hljs-string">'namespace'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'Auth'</span>, 
        <span class="hljs-string">'prefix'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'auth'</span>
    ],
    <span class="hljs-reserved">function</span>(){
        <span class="hljs-regexp">//</span> Registration Routes...
        <span class="hljs-attribute">Route</span>::get<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/register'</span>, <span class="hljs-string">'RegisterController@showRegistrationForm'</span>)</span>-&gt;</span>name(<span class="hljs-string">'register'</span>);
        <span class="hljs-attribute">Route</span>::post<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/register'</span>, <span class="hljs-string">'RegisterController@register'</span>)</span>-&gt;</span>name(<span class="hljs-string">'register.post'</span>);
        <span class="hljs-regexp">//</span> سایر روتها
   }
);</code></pre>

<p dir="rtl">3- فایل resources\views\auth\register.blade.php را باز 
میکنیم و برای ایجاد فرم ثبت نام کدهای html و css دلخواهمان را وارد 
میکنیم:</p>

<pre><code class="language-0 hljs xml">@extends('layouts.master')

@section('title')
- ثبت نام
@endsection

@section('content')
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"mb-0 mt-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>عضویت در سایت<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">hr</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"{{ route('register.post') }}"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-horizontal bg-light py-5 px-3"</span>&gt;</span>
        {{ csrf_field() }}
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('name') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>نام:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-6"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ old('name') }}"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"نام را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-4 d-flex align-items-lg-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('name'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('name') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @else
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-muted"</span>&gt;</span>میتوانید از حروف و اعداد استفاده کنید<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('email') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>ایمیل:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-6"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ old('email') }}"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"ایمیل را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-4 d-flex align-items-lg-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('email'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('email') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @else
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-muted"</span>&gt;</span>برای مثال: ali2018@yahoo.com<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('password') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>رمز عبور:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-6"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"رمز عبور را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-4 d-flex align-items-lg-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('password'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('password') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @else
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-muted"</span>&gt;</span>باید بیشتر از 6 حرف باشد.<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>تکرار رمز عبور:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-6"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"تکرار رمز عبور را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-4 d-flex align-items-lg-center mt-sm-1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-muted"</span>&gt;</span>باید بیشتر از 6 حرف باشد و دقیقاً حرفهای رمز عبور را داشته باشد.<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"d-flex justify-content-center mt-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-success"</span>&gt;</span>عضویت<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
@endsection</code></pre>

<p dir="rtl">4- در فایل app\Http\Controllers\Auth\RegisterController.php کلاس Request را به کنترلر RegisterController الصاق میکنیم:</p>

<pre><code class="language-0 hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;</code></pre>

<p dir="rtl">5- حالا در app\Http\Controllers\Auth\RegisterController.php کنترلر register را بصورت زیر پیاده سازی میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">Auth</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Hash</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Validator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Auth</span>\<span class="hljs-title">RegistersUsers</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">UserActivation</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegisterController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
{</span>
    <span class="hljs-comment">/*
    |--------------------------------------------------------------------------
    | Register Controller
    |--------------------------------------------------------------------------
    |
    | This controller handles the registration of new users as well as their
    | validation and creation. By default this controller uses a trait to
    | provide this functionality without requiring any additional code.
    |
    */</span>

    <span class="hljs-keyword">use</span> <span class="hljs-title">RegistersUsers</span>;

    <span class="hljs-comment">/**
     * Where to redirect users after registration.
     *
     *<span class="hljs-phpdoc"> @var</span> string
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$redirectTo</span> = <span class="hljs-string">'/'</span>;

    <span class="hljs-comment">/**
     * Create a new controller instance.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;middleware(<span class="hljs-string">'guest'</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">register</span><span class="hljs-params">(Request <span class="hljs-variable">$request</span>)</span>
    {</span>
        
        <span class="hljs-variable">$this</span>-&gt;validate(<span class="hljs-variable">$request</span>, [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'required|string|min:3|max:255'</span>,
            <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|string|email|max:255|unique:users'</span>,
            <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">'required|string|min:6|confirmed'</span>,
        ]);
        
        <span class="hljs-variable">$user</span> = User::create([
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-variable">$request</span>-&gt;name,
            <span class="hljs-string">'email'</span> =&gt; <span class="hljs-variable">$request</span>-&gt;email,
            <span class="hljs-string">'password'</span> =&gt; Hash::make(<span class="hljs-variable">$request</span>-&gt;password),
        ]);
        
        event(<span class="hljs-keyword">new</span> UserActivation(<span class="hljs-variable">$user</span>));
        
        session()-&gt;flash(<span class="hljs-string">'success'</span>, <span class="hljs-string">'عضویت شما با موفقیت انجام شد. لطفاً جهت ورود به سایت به ایمیل خود بروید و لینک فعالسازی را کلیک کنید.'</span>);
        
        <span class="hljs-keyword">return</span> redirect(route(<span class="hljs-string">'home'</span>));
    }

}
</span></code></pre>

<h3 dir="rtl">مرحله فعال سازی اکانت - Activation</h3>

<p dir="rtl">1- با دستور زیر مدل و مایگریشن مربوط به جدول activations رو ایجاد میکنیم:</p>

<pre><code class=" hljs css"><span class="hljs-tag">php</span> <span class="hljs-tag">artisan</span> <span class="hljs-tag">make</span><span class="hljs-pseudo">:model</span> <span class="hljs-tag">Activation</span> <span class="hljs-tag">-m</span></code></pre>

<p dir="rtl">و بعد به فایل مایگریشن ایجاد شده میرویم و دستورات زیر را وارد میکنیم:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-attribute">Schema</span>::create(<span class="hljs-string">'activations'</span>, <span class="hljs-reserved">function</span> (Blueprint $table) {
    $table-&gt;increments(<span class="hljs-string">'id'</span>);

    $table-&gt;integer<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'user_id'</span>)</span>-&gt;</span>unsigned();
    $table-&gt;foreign<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'user_id'</span>)</span>-&gt;</span>references<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'id'</span>)</span>-&gt;</span><span class="hljs-literal">on</span><span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'users'</span>)</span>-&gt;</span>onDelete(<span class="hljs-string">'cascade'</span>);

    $table-&gt;string(<span class="hljs-string">'code'</span>);
    $table-&gt;boolean<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'used'</span>)</span>-&gt;</span><span class="hljs-reserved">default</span>(<span class="hljs-literal">false</span>);
    $table-&gt;dateTime(<span class="hljs-string">'expire'</span>);

    $table-&gt;timestamps();
});</code></pre>

<p dir="rtl">و دستور زیر را وارد میکنیم تا جدول Activation ایجاد شود:</p>

<pre><code class="language-0 hljs ">php artisan migrate</code></pre>

<p dir="rtl">2- به فایل app\Providers\EventServiceProvider.php میرویم و پراپرتی listen$ را وارد میکنیم:</p>

<pre><code class="language-0 hljs php"><span class="hljs-keyword">protected</span> <span class="hljs-variable">$listen</span> = [
    <span class="hljs-string">'App\Events\UserActivation'</span> =&gt; [
        <span class="hljs-string">'App\Listeners\UserActivation\SendMail'</span>,
    ],
];</code></pre>

<p dir="rtl">و در خط فرمان دستور زیر را وارد میکنیم تا event و listener تعریف شده در پراپرتی بالا ایجاد شوند:</p>

<pre><code class=" hljs cs">php artisan <span class="hljs-keyword">event</span>:generate</code></pre>

<p dir="rtl">3- مدل Activation را بصورت زیر پیاده سازی میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Str</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Carbon</span>\<span class="hljs-title">Carbon</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">User</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Activation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
{</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$fillable</span> = [<span class="hljs-string">'user_id'</span>, <span class="hljs-string">'code'</span>, <span class="hljs-string">'used'</span>, <span class="hljs-string">'expire'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeCreateCode</span><span class="hljs-params">(<span class="hljs-variable">$query</span>, <span class="hljs-variable">$user</span>)</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$query</span>-&gt;create([
            <span class="hljs-string">'user_id'</span> =&gt; <span class="hljs-variable">$user</span>-&gt;id,
            <span class="hljs-string">'code'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;code(),
            <span class="hljs-string">'expire'</span> =&gt; Carbon::now()-&gt;addMinutes(<span class="hljs-number">15</span>),
        ]);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">code</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">do</span>{
            <span class="hljs-variable">$code</span> = Str::random(<span class="hljs-number">60</span>);
            <span class="hljs-variable">$checkCode</span> = <span class="hljs-keyword">static</span>::whereCode(<span class="hljs-variable">$code</span>)-&gt;get();
        }<span class="hljs-keyword">while</span>(!<span class="hljs-variable">$checkCode</span>-&gt;isEmpty());

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$code</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">user</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;belongsTo(<span class="hljs-string">'App\User'</span>);
    }
}
</span></code></pre>

<p dir="rtl">4- حالا در فایل app\Events\UserActivation.php تغییراتی را در کلاس UserActivation انجام میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">Channel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">SerializesModels</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">PrivateChannel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">PresenceChannel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">Dispatchable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">InteractsWithSockets</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">ShouldBroadcast</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Activation</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">User</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserActivation</span>
{</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">Dispatchable</span>, <span class="hljs-title">InteractsWithSockets</span>, <span class="hljs-title">SerializesModels</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$user</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$code</span>;

    <span class="hljs-comment">/**
     * Create a new event instance.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(User <span class="hljs-variable">$user</span>)</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;user = <span class="hljs-variable">$user</span>;
        <span class="hljs-variable">$this</span>-&gt;code = Activation::createCode(<span class="hljs-variable">$user</span>)-&gt;code;
    }

    <span class="hljs-comment">/**
     * Get the channels the event should broadcast on.
     *
     *<span class="hljs-phpdoc"> @return</span> \Illuminate\Broadcasting\Channel|array
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">broadcastOn</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrivateChannel(<span class="hljs-string">'channel-name'</span>);
    }
}
</span></code></pre>

<p dir="rtl">5- با اجرای دو دستور زیر در خط فرمان، email markdown را ایجاد میکنیم:</p>

<pre><code class=" hljs sql">php artisan make:mail SendActivationCode <span class="hljs-comment">--markdown=emails.send-activation-code</span>

php artisan vendor:publish <span class="hljs-comment">--tag=laravel-mail</span></code></pre>

<p dir="rtl">6- در فایل app\Listeners\UserActivation\SendMail.php تغییرات لازم را در کلاس SendMail انجام میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Listeners</span>\<span class="hljs-title">UserActivation</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">UserActivation</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">InteractsWithQueue</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">ShouldQueue</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Mail</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">MailWithMarkdown</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">SendActivationCode</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendMail</span>
{</span>
    <span class="hljs-comment">/**
     * Create the event listener.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-comment">//</span>
    }

    <span class="hljs-comment">/**
     * Handle the event.
     *
     *<span class="hljs-phpdoc"> @param</span>  UserActivation  $event
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span><span class="hljs-params">(UserActivation <span class="hljs-variable">$event</span>)</span>
    {</span>
        Mail::to(<span class="hljs-variable">$event</span>-&gt;user-&gt;email)
            -&gt;send(<span class="hljs-keyword">new</span> SendActivationCode(<span class="hljs-variable">$event</span>-&gt;user, <span class="hljs-variable">$event</span>-&gt;code));
    }
}
</span></code></pre>

<p dir="rtl">7- در فایل app\Mail\SendActivationCode.php در کلاس SendActivationCode تغییراتی را بصورت زیر اعمال میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Bus</span>\<span class="hljs-title">Queueable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">Mailable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">SerializesModels</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">ShouldQueue</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">SendActivationCode</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Mail</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendActivationCode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mailable</span>
{</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">Queueable</span>, <span class="hljs-title">SerializesModels</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$user</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$code</span>;

    <span class="hljs-comment">/**
     * Create a new message instance.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(User <span class="hljs-variable">$user</span>, <span class="hljs-variable">$code</span>)</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;user = <span class="hljs-variable">$user</span>;
        <span class="hljs-variable">$this</span>-&gt;code = <span class="hljs-variable">$code</span>;
    }

    <span class="hljs-comment">/**
     * Build the message.
     *
     *<span class="hljs-phpdoc"> @return</span> $this
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">build</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;subject(<span class="hljs-string">'لینک فعال سازی'</span>)
                    -&gt;markdown(<span class="hljs-string">'emails.send-activation-code'</span>);
    }
}
</span></code></pre>

<p dir="rtl">8- در فایل resources\views\emails\send-activation-code.blade.php قالب ایمیل را بصورت زیر پیاده میکنیم:</p>

<pre><code class="language-0 hljs perl"><span class="hljs-variable">@component</span>(<span class="hljs-string">'mail::message'</span>)

&lt;h1&gt;سلام {{ <span class="hljs-variable">$user</span>-&gt;name }} گرامی&lt;<span class="hljs-regexp">/h1&gt;

&lt;p&gt;برای فعال سازی اکانت خود، روی دکمه زیر کلیک کنید:&lt;/p</span>&gt;

<span class="hljs-variable">@component</span>(<span class="hljs-string">'mail::button'</span>, [<span class="hljs-string">'url'</span> =&gt; route(<span class="hljs-string">'activation'</span>, <span class="hljs-variable">$code</span>)])
فعال سازی اکانت
<span class="hljs-variable">@endcomponent</span>

با تشکر&lt;br&gt;
{{ config(<span class="hljs-string">'app.name'</span>) }}
<span class="hljs-variable">@endcomponent</span></code></pre>

<p dir="rtl">9- در فایل routes\web.php روت مربوط به لینک فعال سازی رو تعریف میکنیم:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-attribute">Route</span>::get<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/home/activation/{token}'</span>, <span class="hljs-string">'HomeController@activation'</span>)</span>-&gt;</span>name(<span class="hljs-string">'activation'</span>);</code></pre>

<p dir="rtl">10- در فایل app\Http\Controllers\HomeController.php متد activation را بصورت زیر پیاده سازی میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Article</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Activation</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Carbon</span>\<span class="hljs-title">Carbon</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span> {</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span> {</span>
        <span class="hljs-variable">$articles</span> = Article::latest()-&gt;paginate(<span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'site.index'</span>, compact(<span class="hljs-string">'articles'</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">activation</span><span class="hljs-params">(<span class="hljs-variable">$token</span>)</span> {</span>
        
        <span class="hljs-variable">$codeActivation</span> = Activation::whereCode(<span class="hljs-variable">$token</span>)-&gt;first();

        <span class="hljs-keyword">if</span> (!<span class="hljs-variable">$codeActivation</span>) {
            session()-&gt;flash(<span class="hljs-string">'danger'</span>, <span class="hljs-string">'کد فعال سازی معتبر نیست.'</span>);
        } <span class="hljs-keyword">elseif</span> (<span class="hljs-variable">$codeActivation</span>-&gt;expire &lt; Carbon::now()) {
            session()-&gt;flash(<span class="hljs-string">'danger'</span>, <span class="hljs-string">'زمان فعال سازی کد تمام شده است. لطفا به صفحه &lt;a href="/login"&gt;ورود&lt;/a&gt; رفته و کد فعال سازی دیگری بفرستید.'</span>);
        } <span class="hljs-keyword">elseif</span> (<span class="hljs-variable">$codeActivation</span>-&gt;used) {
            session()-&gt;flash(<span class="hljs-string">'danger'</span>, <span class="hljs-string">'کد فعالسازی قبلا استفاده شده است.'</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable">$codeActivation</span>-&gt;used = <span class="hljs-number">1</span>;
            <span class="hljs-variable">$codeActivation</span>-&gt;save();

            <span class="hljs-variable">$user</span> = <span class="hljs-variable">$codeActivation</span>-&gt;user;
            <span class="hljs-variable">$user</span>-&gt;active = <span class="hljs-number">1</span>;
            <span class="hljs-variable">$user</span>-&gt;save();

            session()-&gt;flash(<span class="hljs-string">'success'</span>, <span class="hljs-variable">$user</span>-&gt;name . <span class="hljs-string">' گرامی، اکانت شما با موفقیت فعال شد.'</span>);

            auth()-&gt;loginUsingId(<span class="hljs-variable">$codeActivation</span>-&gt;user-&gt;id);
        }

        <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'/'</span>);
    }

}
</span></code></pre>

<p dir="rtl">11- برای اینکه چک کنیم کاربر فعال است یا نه، یک middleware با وارد کردن دستور زیر در خط فرمان ایجاد میکنیم:</p>

<pre><code class=" hljs css"><span class="hljs-tag">php</span> <span class="hljs-tag">artisan</span> <span class="hljs-tag">make</span><span class="hljs-pseudo">:middleware</span> <span class="hljs-tag">CheckUserActive</span></code></pre>

<p dir="rtl">12- به فایل app\Http\Middleware\CheckUserActive.php میرویم و کلاس CheckUserActive را بصورت زیر پیاده میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Middleware</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Closure</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CheckUserActive</span>
{</span>
    <span class="hljs-comment">/**
     * Handle an incoming request.
     *
     *<span class="hljs-phpdoc"> @param</span>  \Illuminate\Http\Request  $request
     *<span class="hljs-phpdoc"> @param</span>  \Closure  $next
     *<span class="hljs-phpdoc"> @return</span> mixed
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span><span class="hljs-params">(<span class="hljs-variable">$request</span>, Closure <span class="hljs-variable">$next</span>)</span>
    {</span>
        <span class="hljs-keyword">if</span>(auth()-&gt;check() &amp;&amp; auth()-&gt;user()-&gt;active == <span class="hljs-number">0</span>){

            auth()-&gt;logout();

            redirect(<span class="hljs-string">'/'</span>);
            
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</span></code></pre>

<p dir="rtl">13- به فایل app\Http\Kernel.php میرویم و مسیر middleware ایجاد شده را در پراپرتی middlewareGroups$ میدهیم:</p>

<pre><code class="language-0 hljs ruby">protected <span class="hljs-variable">$middlewareGroups</span> = [
    <span class="hljs-string">'web'</span> =&gt; [
        <span class="hljs-regexp">//</span> ...
        \<span class="hljs-constant">App</span>\<span class="hljs-constant">Http</span>\<span class="hljs-constant">Middleware</span>\<span class="hljs-constant">CheckUserActive::</span><span class="hljs-class"><span class="hljs-keyword">class</span>,</span>
    ],

<span class="hljs-regexp">//</span> ...
];</code></pre>

<p dir="rtl">14- در فایل resources\views\includes\navbar.blade.php میتوانیم کدهای زیر را قرار میدهیم:</p>

<pre><code class="language-0 hljs xml">@if(!Auth::check())
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn-group ml-3"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-success rounded"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"{{route('register')}}"</span>&gt;</span>عضویت<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-primary btn-sm rounded"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"{{route('login')}}"</span>&gt;</span>ورود<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
@else
<span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"{{route('logout')}}"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-inline"</span>&gt;</span>
    {{ csrf_field() }}
    <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-success ml-2"</span>&gt;</span>{{ Auth::user()-&gt;name }}<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-danger btn-sm ml-3"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span>&gt;</span>خروج<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
@endif</code></pre>

<h3 dir="rtl">مراحل ورود - Login</h3>

<p dir="rtl">1- به فایل resources\views\auth\login.blade.php میرویم و فرمی را بصورت زیر ایجاد میکنیم:</p>

<pre><code class="language-0 hljs xml">@extends('layouts.master')

@section('title')
- ورود
@endsection

@section('content')
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"mb-0 mt-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>ورود به سایت<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">hr</span> /&gt;</span>
    
    @include('includes.session-flash')
    
    <span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"{{ route('login.post') }}"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-horizontal bg-light py-5 px-3"</span>&gt;</span>
        {{ csrf_field() }}
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('email') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>ایمیل:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ old('email') != null ? old('email') : '' }}"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"ایمیل را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-12 text-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('email'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('email') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('password') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>رمز عبور:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"رمز عبور را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-12 text-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('password'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('password') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2"</span>&gt;</span>&amp;nbsp;<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-3 {{ $errors-&gt;has('remember') ? 'has-error p-2' : '' }}"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-inline"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"checkbox"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-check ml-2"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"remember"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"1"</span>  <span class="hljs-attribute">checked</span> &gt;</span> مرا به خاطر بسپار
                <span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
                @if($errors-&gt;has('remember'))
                <span class="hljs-tag">&lt;<span class="hljs-title">br</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>نمیتواند حروف باشد.<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-7 d-flex align-items-lg-center mt-sm-1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"{{ route('password.request') }}"</span>&gt;</span>فراموشی یا تغییر رمز عبور<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"d-flex justify-content-center mt-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-success"</span>&gt;</span>ورود<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
@endsection
</code></pre>

<p dir="rtl">2- در فایل web.php روتهای مربوط به لاگین را وارد میکنیم:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-attribute">Route</span>::group(
    [
        <span class="hljs-string">'namespace'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'Auth'</span>, 
        <span class="hljs-string">'prefix'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'auth'</span>
    ],
    <span class="hljs-reserved">function</span>(){
        <span class="hljs-regexp">//</span> Login-Logout Routes...
        <span class="hljs-attribute">Route</span>::get<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/login'</span>, <span class="hljs-string">'LoginController@showLoginForm'</span>)</span>-&gt;</span>name(<span class="hljs-string">'login'</span>);
        <span class="hljs-attribute">Route</span>::post<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/login'</span>, <span class="hljs-string">'LoginController@login'</span>)</span>-&gt;</span>name(<span class="hljs-string">'login.post'</span>);
        <span class="hljs-attribute">Route</span>::post<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/logout'</span>, <span class="hljs-string">'LoginController@logout'</span>)</span>-&gt;</span>name(<span class="hljs-string">'logout'</span>);
);</code></pre>

<p dir="rtl">3- در فایل app\Http\Controllers\Auth\LoginController.php متد login را پیاده سازی میکنیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">Auth</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Auth</span>\<span class="hljs-title">AuthenticatesUsers</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Carbon</span>\<span class="hljs-title">Carbon</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">UserActivation</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
{</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">AuthenticatesUsers</span>;


    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$redirectTo</span> = <span class="hljs-string">'/'</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;middleware(<span class="hljs-string">'guest'</span>)-&gt;except(<span class="hljs-string">'logout'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">login</span><span class="hljs-params">(Request <span class="hljs-variable">$request</span>)</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;validateLogin(<span class="hljs-variable">$request</span>);

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$this</span>-&gt;hasTooManyLoginAttempts(<span class="hljs-variable">$request</span>)) {
            <span class="hljs-variable">$this</span>-&gt;fireLockoutEvent(<span class="hljs-variable">$request</span>);

            <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;sendLockoutResponse(<span class="hljs-variable">$request</span>);
        }

        <span class="hljs-keyword">if</span>(auth()-&gt;validate(<span class="hljs-variable">$request</span>-&gt;only(<span class="hljs-string">'email'</span>, <span class="hljs-string">'password'</span>))){

            <span class="hljs-variable">$user</span> = User::whereEmail(<span class="hljs-variable">$request</span>-&gt;input(<span class="hljs-string">'email'</span>))-&gt;first();

            <span class="hljs-keyword">if</span>(<span class="hljs-variable">$user</span>-&gt;active == <span class="hljs-number">0</span>){
                <span class="hljs-variable">$checkActivationCode</span> = <span class="hljs-variable">$user</span>-&gt;activations()
                                            -&gt;where(<span class="hljs-string">'expire'</span>, <span class="hljs-string">'&gt;'</span>, Carbon::now())
                                            -&gt;latest()
                                            -&gt;first();

                <span class="hljs-keyword">if</span>(<span class="hljs-variable">$checkActivationCode</span> != <span class="hljs-keyword">null</span> &amp;&amp; count(<span class="hljs-variable">$checkActivationCode</span>) == <span class="hljs-number">1</span>){
                    <span class="hljs-variable">$this</span>-&gt;incrementLoginAttempts(<span class="hljs-variable">$request</span>);

                    session()-&gt;flash(<span class="hljs-string">'success'</span>, <span class="hljs-string">'کد فعال سازی برای شما ارسال شده است. لطفا به ایمیل خودتان مراجعه کنید و کد را فعال کنید.'</span>);
                }
                <span class="hljs-keyword">else</span>{
                    session()-&gt;flash(<span class="hljs-string">'success'</span>, <span class="hljs-string">'کد فعال سازی جدیدی به ایمیلتان ارسال شد. لطفا به ایمیل خودتان مراجعه کنید و فعال سازی را انجام دهید.'</span>);
                    event(<span class="hljs-keyword">new</span> UserActivation(<span class="hljs-variable">$user</span>));
                }

                <span class="hljs-keyword">return</span> back();
            }


        }

        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$this</span>-&gt;attemptLogin(<span class="hljs-variable">$request</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;sendLoginResponse(<span class="hljs-variable">$request</span>);
        }

        <span class="hljs-variable">$this</span>-&gt;incrementLoginAttempts(<span class="hljs-variable">$request</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;sendFailedLoginResponse(<span class="hljs-variable">$request</span>);
    }
}</span></code></pre>

<h3 dir="rtl">مراحل فراموشی یا تغییر رمز عبور</h3>

<p dir="rtl">1- در صفحه ورود(login) روی لینک فراموشی یا تغییر رمز عبور کلیک میکنیم:</p>

<p dir="rtl"><a href="http://localhost:8000/uploads/images/login-form.jpg" target="_blank"><img alt="فرم ورود - login" src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/login-form.jpg"></a></p>

<p dir="rtl">2- فرم دریافت ایمیل را به شکل دلخواه خودمان تغییر میدهیم:</p>

<pre><code class="language-0 hljs xml">@extends('layouts.master')

@section('title')
- دریافت ایمیل
@endsection

@section('content')
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"mb-0 mt-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>دریافت ایمیل<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">hr</span> /&gt;</span>
    
    @include('includes.session-flash')
    
    <span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"{{ route('password.email') }}"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-horizontal bg-light py-5 px-3"</span>&gt;</span>
        {{ csrf_field() }}
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('email') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>ایمیل:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ old('email') != null ? old('email') : '' }}"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"ایمیل را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-12 text-center mt-sm-1"</span>&gt;</span>
                @if($errors-&gt;has('email'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('email') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"d-flex justify-content-center mt-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-primary"</span>&gt;</span>ارسال لینک تغییر رمز عبور<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
@endsection
</code></pre>

<p dir="rtl">3- در فایل 
app\Http\Controllers\Auth\ForgotPasswordController.php کنترلر 
ForgotPasswordController نیازی به تغییر یا افزودن کد خاصی ندارد.</p>

<p dir="rtl">حالا اگر ایمیل را وارد کنیم و سابمیت را انجام دهیم یک ایمیل برایمان ارسال میشود.</p>

<p dir="rtl">4- اگر در ایمیلی که برایمان ارسال شده است روی لینک کلیک 
کنیم وارد فرم دریافت رمز جدید میشویم. به فایل 
resources\views\auth\passwords\reset.blade.php رفته و در فرم دریافت رمز 
عبور جدید تغییرات لازم را انجام میدهیم تا ظاهر فرم به دلخواه خودمان 
باشد:</p>

<pre><code class="language-0 hljs xml">@extends('layouts.master')

@section('title')
- رمز عبور جدید
@endsection

@section('content')
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"mb-0 mt-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>رمز عبور جدید<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">hr</span> /&gt;</span>
    
    @include('includes.session-flash')
    
    <span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"{{ route('password.update') }}"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-horizontal bg-light py-5 px-3"</span>&gt;</span>
        {{ csrf_field() }}
        <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"hidden"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"token"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ $token }}"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('email') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>ایمیل:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"{{ old('email') }}"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"ایمیل را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-12 text-center"</span>&gt;</span>
                @if($errors-&gt;has('email'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('email') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row {{ $errors-&gt;has('password') ? 'has-error' : '' }}"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>رمز عبور:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"رمز عبور را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-12 text-center"</span>&gt;</span>
                @if($errors-&gt;has('password'))
                <span class="hljs-tag">&lt;<span class="hljs-title">small</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text-danger"</span>&gt;</span>{{ $errors-&gt;first('password') }}<span class="hljs-tag">&lt;/<span class="hljs-title">small</span>&gt;</span>
                @endif
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-group row"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-2 col-form-label text-lg-left"</span>&gt;</span>تکرار رمز عبور:<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"col-lg-10"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"form-control"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password_confirmation"</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">"تکرار رمز عبور را وارد کنید..."</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"d-flex justify-content-center mt-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-warning"</span>&gt;</span>تغییر رمز عبور<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
@endsection
</code></pre>

<p dir="rtl">5- فایل app\Http\Controllers\Auth\ResetPasswordController.php نیازی به تغییر یا افزودن کد خاصی ندارد.</p>

<p dir="rtl">6- روتهای مربوط به فراموشی یا تغییر رمز بصورت زیر خواهند بود:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-attribute">Route</span>::group(
    [
        <span class="hljs-string">'namespace'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'Auth'</span>, 
        <span class="hljs-string">'prefix'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'auth'</span>
    ],
    <span class="hljs-reserved">function</span>(){
        <span class="hljs-regexp">//</span> Password Reset Routes...
        <span class="hljs-attribute">Route</span>::get<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/password/reset'</span>, <span class="hljs-string">'ForgotPasswordController@showLinkRequestForm'</span>)</span>-&gt;</span>name(<span class="hljs-string">'password.request'</span>);
        <span class="hljs-attribute">Route</span>::post<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/password/email'</span>, <span class="hljs-string">'ForgotPasswordController@sendResetLinkEmail'</span>)</span>-&gt;</span>name(<span class="hljs-string">'password.email'</span>);
        <span class="hljs-attribute">Route</span>::get<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/password/reset/{token}'</span>, <span class="hljs-string">'ResetPasswordController@showResetForm'</span>)</span>-&gt;</span>name(<span class="hljs-string">'password.reset'</span>);
        <span class="hljs-attribute">Route</span>::post<span class="hljs-function"><span class="hljs-params">(<span class="hljs-string">'/password/reset'</span>, <span class="hljs-string">'ResetPasswordController@reset'</span>)</span>-&gt;</span>name(<span class="hljs-string">'password.update'</span>);
    }
);</code></pre>

<p dir="rtl">7- خطاهای مربوط به این فرمها را در فایل resources\lang\fa\passwords.php به فارسی تغییر میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">return</span> [
    <span class="hljs-string">'password'</span> =&gt; <span class="hljs-string">'کلمات عبور باید حداقل شش کاراکتر داشته باشند و با تکرار رمز عبور مطابقت کنند.'</span>,
    <span class="hljs-string">'reset'</span> =&gt; <span class="hljs-string">'رمز عبور شما تنظیم مجدد شده است!'</span>,
    <span class="hljs-string">'sent'</span> =&gt; <span class="hljs-string">'ما لینک تغییر رمز عبور شما را ایمیل کرده ایم!'</span>,
    <span class="hljs-string">'token'</span> =&gt; <span class="hljs-string">'این توکن تنظیم مجدد رمز عبور نامعتبر است.'</span>,
    <span class="hljs-string">'user'</span> =&gt; <span class="hljs-string">"ما نمی توانیم یک کاربر با آن آدرس ایمیل پیدا کنیم."</span>,
];
</span></code></pre>

<p dir="rtl">حالا اگر سابمیت را انجام دهیم با رمز جدید وارد سایت میشویم که در واقع رمز تغییر کرده است و login انجام شده است.</p>

<h3 dir="rtl">تغییر قالب ایمیل تغییر رمز عبور به حالت دلخواه و فارسی</h3>

<p dir="rtl">1- در فایل app\Providers\EventServiceProvider.php کد زیر را وارد میکنیم:</p>

<pre><code class="language-0 hljs php"><span class="hljs-keyword">protected</span> <span class="hljs-variable">$listen</span> = [
    <span class="hljs-string">'App\Events\ResetPasswordEvent'</span> =&gt; [
        <span class="hljs-string">'App\Listeners\UserResetPassword\ResetPasswordMail'</span>,
    ],
];</code></pre>

<p dir="rtl">2- دستور زیر را در خط فرمان اجرا میکنیم تا event&nbsp; و listener وارد شده در کد بالا ایجاد شوند:</p>

<pre><code class=" hljs cs">php artisan <span class="hljs-keyword">event</span>:generate</code></pre>

<p dir="rtl">و دستورات زیر را برای ایجاد markdown ایمیل در خط فرمان اجرا میکنیم:</p>

<pre><code class=" hljs sql">php artisan make:mail SendMailResetPassword <span class="hljs-comment">--markdown=emails.reset-password-mail</span>

php artisan vendor:publish <span class="hljs-comment">--tag=laravel-mail</span></code></pre>

<p dir="rtl">3- در مدل User کدهای زیر را اضافه میکنیم:</p>

<pre><code class="language-0 hljs php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">ResetPasswordEvent</span>;


<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendPasswordResetNotification</span><span class="hljs-params">(<span class="hljs-variable">$token</span>)</span>
{</span>
    event(<span class="hljs-keyword">new</span> ResetPasswordEvent(<span class="hljs-variable">$this</span>-&gt;name, <span class="hljs-variable">$this</span>-&gt;email, <span class="hljs-variable">$token</span>));
}
</code></pre>

<p dir="rtl">4- فایل app\Events\ResetPasswordEvent.php را بصورت زیر تغییر میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">Channel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">SerializesModels</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">PrivateChannel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">PresenceChannel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">Dispatchable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">InteractsWithSockets</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Broadcasting</span>\<span class="hljs-title">ShouldBroadcast</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResetPasswordEvent</span>
{</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">Dispatchable</span>, <span class="hljs-title">InteractsWithSockets</span>, <span class="hljs-title">SerializesModels</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$name</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$email</span>;

    <span class="hljs-comment">/**
     * Create a new event instance.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$email</span>, <span class="hljs-variable">$token</span>)</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;name = <span class="hljs-variable">$name</span>;
        <span class="hljs-variable">$this</span>-&gt;email = <span class="hljs-variable">$email</span>;
        <span class="hljs-variable">$this</span>-&gt;url = url(config(<span class="hljs-string">'app.url'</span>).route(<span class="hljs-string">'password.reset'</span>, <span class="hljs-variable">$token</span>, <span class="hljs-keyword">false</span>));
    }

    <span class="hljs-comment">/**
     * Get the channels the event should broadcast on.
     *
     *<span class="hljs-phpdoc"> @return</span> \Illuminate\Broadcasting\Channel|array
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">broadcastOn</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrivateChannel(<span class="hljs-string">'channel-name'</span>);
    }
}
</span></code></pre>

<p dir="rtl">5- فایل app\Listeners\UserResetPassword\ResetPasswordMail.php را بصورت زیر تغییر میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Listeners</span>\<span class="hljs-title">UserResetPassword</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Events</span>\<span class="hljs-title">ResetPasswordEvent</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">InteractsWithQueue</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">ShouldQueue</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Mail</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">MailWithMarkdown</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">SendMailResetPassword</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResetPasswordMail</span>
{</span>
    <span class="hljs-comment">/**
     * Create the event listener.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-comment">//</span>
    }

    <span class="hljs-comment">/**
     * Handle the event.
     *
     *<span class="hljs-phpdoc"> @param</span>  ResetPasswordEvent  $event
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span><span class="hljs-params">(ResetPasswordEvent <span class="hljs-variable">$event</span>)</span>
    {</span>
        Mail::to(<span class="hljs-variable">$event</span>-&gt;email)
            -&gt;send(<span class="hljs-keyword">new</span> SendMailResetPassword(<span class="hljs-variable">$event</span>-&gt;name, <span class="hljs-variable">$event</span>-&gt;url));
    }
}
</span></code></pre>

<p dir="rtl">6- به فایل app\Mail\SendMailResetPassword.php میرویم و بصورت زیر تغییرش میدهیم:</p>

<pre><code class="language-0 hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Mail</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Bus</span>\<span class="hljs-title">Queueable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Mail</span>\<span class="hljs-title">Mailable</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">SerializesModels</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Queue</span>\<span class="hljs-title">ShouldQueue</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendMailResetPassword</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mailable</span>
{</span>
    <span class="hljs-keyword">use</span> <span class="hljs-title">Queueable</span>, <span class="hljs-title">SerializesModels</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$name</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$url</span>;

    <span class="hljs-comment">/**
     * Create a new event instance.
     *
     *<span class="hljs-phpdoc"> @return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$url</span>)</span>
    {</span>
        <span class="hljs-variable">$this</span>-&gt;name = <span class="hljs-variable">$name</span>;
        <span class="hljs-variable">$this</span>-&gt;url = <span class="hljs-variable">$url</span>;
    }

    <span class="hljs-comment">/**
     * Build the message.
     *
     *<span class="hljs-phpdoc"> @return</span> $this
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">build</span><span class="hljs-params">()</span>
    {</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;subject(<span class="hljs-string">'درخواست تغییر رمز عبور'</span>)
                    -&gt;markdown(<span class="hljs-string">'emails.reset-password-mail'</span>);
    }
}
</span></code></pre>

<p dir="rtl">7- در فایل resources\views\emails\reset-password-mail.blade.php قالب دلخواهمان را وارد میکنیم:</p>

<pre><code class="language-0 hljs coffeescript"><span class="hljs-property">@component</span>(<span class="hljs-string">'mail::message'</span>)

<span class="hljs-property">@component</span>(<span class="hljs-string">'mail::panel'</span>)
&lt;h3&gt;سلام {{ $name }} گرامی&lt;/h3&gt;

&lt;p&gt;این ایمیل برایتان ارسال شد چون درخواست تغییر رمز داده بودید.&lt;/p&gt;

&lt;p&gt;برای تغییر رمز روی کلید زیر کلیک نمایید:&lt;/p&gt;

<span class="hljs-property">@component</span>(<span class="hljs-string">'mail::button'</span>, [<span class="hljs-string">'url'</span><span class="hljs-function"> =&gt;</span> $url, <span class="hljs-string">'color'</span><span class="hljs-function"> =&gt;</span> <span class="hljs-string">'primary'</span>])
تغییر رمز عبور
<span class="hljs-property">@endcomponent</span>

&lt;p&gt;اگر مایل به تغییر رمز عبور نیستید هیچ کاری نکنید و کلید را کلیک نمایید.&lt;/p&gt;

&lt;p&gt;متشکریم&lt;/p&gt;

&lt;a href=<span class="hljs-string">"{{ config('app.url') }}"</span> target=<span class="hljs-string">"_blank"</span>&gt;{{ config(<span class="hljs-string">'app.name'</span>) }}&lt;/a&gt;

<span class="hljs-property">@endcomponent</span>

<span class="hljs-property">@endcomponent</span></code></pre>

<p dir="rtl">8- استایل قالب ایمیل را از فایل resources\views\vendor\mail\html\themes\default.css تغییر میدهیم.</p>

<p dir="rtl">حالا اگر به <a href="https://mailtrap.io/" target="_blank">mailtrap</a> برویم خواهیم دید ایمیلی بصورت تصویر زیر برایمان ارسال شده است:</p>

<p dir="rtl"><a href="http://localhost:8000/uploads/images/reset-password.jpg" target="_blank"><img alt="تصویر قالب ایمیل" src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/reset-password.jpg"></a></p>

<h3 dir="rtl">در مورد remember me</h3>

<p dir="rtl">تنظیمات این مورد در فایل config\session.php قرار دارد. برای مثال گزینه lifetime تعداد دقایق نگهداشتن کوکی ها را میگیرد:</p>

<pre><code class="language-0 hljs php"><span class="hljs-string">'lifetime'</span> =&gt; env(<span class="hljs-string">'SESSION_LIFETIME'</span>, <span class="hljs-number">5184000</span>),</code></pre>

<p dir="rtl">&nbsp;</p>
    </div>
    
    <div class="clearfix d-flex flex-column flex-lg-row justify-content-center mb-3">
        <div class="px-3">
            <span>تاریخ ایجاد: </span>
            <small class="text-muted">1397-07-15 12:00:54</small>
        </div>
        <div class="px-3">
            <span>تاریخ ویرایش: </span>
            <small class="text-muted">1397-07-19 18:07:16</small>
        </div>
    </div>
    
</div>
        </section>


        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/jquery.js"></script>
        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/bootstrap.js"></script>
        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/ckeditor.js"></script>
        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/ckfinder.js"></script>
        <script src="%D9%85%D9%82%D8%A7%D9%84%D8%A7%D8%AA%20%D8%AA%D9%85%D8%B1%DB%8C%D9%86%20%D9%88%20%DB%8C%D8%A7%D8%AF%DA%AF%DB%8C%D8%B1%DB%8C%20-%20%D8%A2%D9%85%D9%88%D8%B2%D8%B4%20register%20-%20activation%20-%20login%20-%20reset%20password%20-%20mail%20-%20event_files/config.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    

</body></html>